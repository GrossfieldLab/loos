<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LOOS: loos::OptionsFramework Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LOOS<span id="projectnumber">&#160;4.1.0</span>
   </div>
   <div id="projectbrief">The Lightweight Object Oriented Structural analysis library/toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceloos.html">loos</a></li><li class="navelem"><a class="el" href="namespaceloos_1_1_options_framework.html">OptionsFramework</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle"><div class="title">loos::OptionsFramework Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Namespace for encapsulating options processing.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_aggregate_options.html">AggregateOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combines a set of OptionsPackages.  <a href="classloos_1_1_options_framework_1_1_aggregate_options.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_basic_convergence.html">BasicConvergence</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_basic_options.html">BasicOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Options common to all tools (including &ndash;fullhelp)  <a href="classloos_1_1_options_framework_1_1_basic_options.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_basic_selection.html">BasicSelection</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a single LOOS selection (&ndash;selection)  <a href="classloos_1_1_options_framework_1_1_basic_selection.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_basic_split_by.html">BasicSplitBy</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a mechanism for controlling how to split an <a class="el" href="classloos_1_1_atomic_group.html" title="Class for handling groups of Atoms (pAtoms, actually)">AtomicGroup</a>.  <a href="classloos_1_1_options_framework_1_1_basic_split_by.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_basic_trajectory.html">BasicTrajectory</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic trajectory with a &ndash;skip option.  <a href="classloos_1_1_options_framework_1_1_basic_trajectory.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_basic_water.html">BasicWater</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Options specific to tools that work with water/internal-water.  <a href="classloos_1_1_options_framework_1_1_basic_water.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_model_with_coords.html">ModelWithCoords</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a model with coordinates.  <a href="classloos_1_1_options_framework_1_1_model_with_coords.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_multi_traj_options.html">MultiTrajOptions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Multiple trajectories as one trajectory via <a class="el" href="classloos_1_1_multi_trajectory.html" title="Combine multiple trajectories (pTraj&#39;s) into one large virtual trajectory.">MultiTrajectory</a>.  <a href="classloos_1_1_options_framework_1_1_multi_traj_options.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_options_package.html">OptionsPackage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base class for options.  <a href="classloos_1_1_options_framework_1_1_options_package.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_output_prefix.html">OutputPrefix</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a string as prefix for output files (&ndash;prefix)  <a href="classloos_1_1_options_framework_1_1_output_prefix.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_output_trajectory_options.html">OutputTrajectoryOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_output_trajectory_type_options.html">OutputTrajectoryTypeOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_required_arguments.html">RequiredArguments</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides simple way to add command-line arguments (required options)  <a href="classloos_1_1_options_framework_1_1_required_arguments.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_trajectory_with_frame_indices.html">TrajectoryWithFrameIndices</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classloos_1_1_trajectory.html" title="Base-class for polymorphic trajectories.">Trajectory</a> with either a &ndash;range or &ndash;skip.  <a href="classloos_1_1_options_framework_1_1_trajectory_with_frame_indices.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_two_models_with_coords.html">TwoModelsWithCoords</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request Two models with coordinates.  <a href="classloos_1_1_options_framework_1_1_two_models_with_coords.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_options_framework_1_1_weights_options.html">WeightsOptions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7c8cebcfcfed8759510d586cfb7ac22d" id="r_a7c8cebcfcfed8759510d586cfb7ac22d"><td class="memItemLeft" align="right" valign="top"><a id="a7c8cebcfcfed8759510d586cfb7ac22d" name="a7c8cebcfcfed8759510d586cfb7ac22d"></a>
<a class="el" href="classloos_1_1_math_1_1_matrix.html">typedef</a> std::vector&lt; <a class="el" href="classloos_1_1_options_framework_1_1_options_package.html">OptionsPackage</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>vOpts</b></td></tr>
<tr class="separator:a7c8cebcfcfed8759510d586cfb7ac22d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Namespace for encapsulating options processing. </p>
<p>The <a class="el" href="namespaceloos_1_1_options_framework.html" title="Namespace for encapsulating options processing.">OptionsFramework</a> provides a consistent set of "common" options across all LOOS tools. By mixing and matching the subclasses of <a class="el" href="classloos_1_1_options_framework_1_1_options_package.html" title="Base class for options.">OptionsPackage</a>, a tool can decide which set of "common" options it will use. Packages may also define their own package-wide set of common options. In addition, subclassing <a class="el" href="classloos_1_1_options_framework_1_1_options_package.html" title="Base class for options.">OptionsPackage</a> within a tool is an easy mechanism for providing command-line options that are specific to an individual tool without having to write the support-code that using boost::program_options requires.</p>
<p>The basic pattern for using <a class="el" href="namespaceloos_1_1_options_framework.html" title="Namespace for encapsulating options processing.">OptionsFramework</a> is to create a new object that represents the options required by the tool. Once all objects are created, they are added to an <a class="el" href="classloos_1_1_options_framework_1_1_aggregate_options.html" title="Combines a set of OptionsPackages.">AggregateOptions</a> object that is responsible for parsing and validating the command-line as well as generating help messages and serializing the options' state for inclusion in the tool's output. For example, a tool that requires a model (with coordinates) and an output prefix would setup its options as follows: </p><div class="fragment"><div class="line"><a class="code hl_class" href="classloos_1_1_options_framework_1_1_basic_options.html">BasicOptions</a>* <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">bopts</a> = <span class="keyword">new</span> <a class="code hl_class" href="classloos_1_1_options_framework_1_1_basic_options.html">BasicOptions</a>;        <span class="comment">// Create basic option (i.e. verbosity &amp; help)</span></div>
<div class="line"><a class="code hl_class" href="classloos_1_1_options_framework_1_1_output_prefix.html">OutputPrefix</a>* <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">popts</a> = <span class="keyword">new</span> <a class="code hl_class" href="classloos_1_1_options_framework_1_1_output_prefix.html">OutputPrefix</a>;        <span class="comment">// Allow --prefix</span></div>
<div class="line"><a class="code hl_class" href="classloos_1_1_options_framework_1_1_model_with_coords.html">ModelWithCoords</a>* <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">mopts</a> = <span class="keyword">new</span> <a class="code hl_class" href="classloos_1_1_options_framework_1_1_model_with_coords.html">ModelWithCoords</a>;  <span class="comment">// Add a model (and ensure coordinates are present)</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="classloos_1_1_options_framework_1_1_aggregate_options.html">AggregateOptions</a> options;</div>
<div class="line">options.<a class="code hl_function" href="classloos_1_1_options_framework_1_1_aggregate_options.html#a66be876f10c6395c7c56c7728b19b07b">add</a>(<a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">bopts</a>).<a class="code hl_function" href="classloos_1_1_options_framework_1_1_aggregate_options.html#a66be876f10c6395c7c56c7728b19b07b">add</a>(<a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">popts</a>).<a class="code hl_function" href="classloos_1_1_options_framework_1_1_aggregate_options.html#a66be876f10c6395c7c56c7728b19b07b">add</a>(<a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">mopts</a>);      <span class="comment">// Combine all options</span></div>
<div class="line"><span class="keywordflow">if</span> (!options.parse(argc, argv))                <span class="comment">// If an error occurs, the help message</span></div>
<div class="line">                                               <span class="comment">// will already be printed</span></div>
<div class="line">   <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">exit</a>(-1);</div>
<div class="ttc" id="aclassloos_1_1_math_1_1_matrix_html"><div class="ttname"><a href="classloos_1_1_math_1_1_matrix.html">loos::Math::Matrix</a></div><div class="ttdoc">Simple matrix template class using policy classes to determine behavior.</div><div class="ttdef"><b>Definition</b> MatrixImpl.hpp:148</div></div>
<div class="ttc" id="aclassloos_1_1_options_framework_1_1_aggregate_options_html"><div class="ttname"><a href="classloos_1_1_options_framework_1_1_aggregate_options.html">loos::OptionsFramework::AggregateOptions</a></div><div class="ttdoc">Combines a set of OptionsPackages.</div><div class="ttdef"><b>Definition</b> OptionsFramework.hpp:786</div></div>
<div class="ttc" id="aclassloos_1_1_options_framework_1_1_aggregate_options_html_a66be876f10c6395c7c56c7728b19b07b"><div class="ttname"><a href="classloos_1_1_options_framework_1_1_aggregate_options.html#a66be876f10c6395c7c56c7728b19b07b">loos::OptionsFramework::AggregateOptions::add</a></div><div class="ttdeci">AggregateOptions &amp; add(OptionsPackage *pack)</div><div class="ttdoc">Add a pointer to an OptionsPackage that will be used for options.</div><div class="ttdef"><b>Definition</b> OptionsFramework.cpp:713</div></div>
<div class="ttc" id="aclassloos_1_1_options_framework_1_1_basic_options_html"><div class="ttname"><a href="classloos_1_1_options_framework_1_1_basic_options.html">loos::OptionsFramework::BasicOptions</a></div><div class="ttdoc">Options common to all tools (including –fullhelp)</div><div class="ttdef"><b>Definition</b> OptionsFramework.hpp:327</div></div>
<div class="ttc" id="aclassloos_1_1_options_framework_1_1_model_with_coords_html"><div class="ttname"><a href="classloos_1_1_options_framework_1_1_model_with_coords.html">loos::OptionsFramework::ModelWithCoords</a></div><div class="ttdoc">Request a model with coordinates.</div><div class="ttdef"><b>Definition</b> OptionsFramework.hpp:423</div></div>
<div class="ttc" id="aclassloos_1_1_options_framework_1_1_output_prefix_html"><div class="ttname"><a href="classloos_1_1_options_framework_1_1_output_prefix.html">loos::OptionsFramework::OutputPrefix</a></div><div class="ttdoc">Gets a string as prefix for output files (–prefix)</div><div class="ttdef"><b>Definition</b> OptionsFramework.hpp:349</div></div>
</div><!-- fragment --><p>The values of the options are generally stored in the member variables of the appropriate object. Simply use these, or copy them out into the tool. For example, to find the verbosity level in the above example, check <code>bopts-&gt;verbosity</code>, and to access the model read in, use <code>mopts-&gt;model</code>.</p>
<p>One feature of boost::program_options is that the long-name options may have a single letter short-cut. Since <a class="el" href="namespaceloos_1_1_options_framework.html" title="Namespace for encapsulating options processing.">OptionsFramework</a> integrates options from many different sources, there is a possibility of short-cut collisions (i.e. two classes using the same single letter code). We therefore recommend the following convention when providing these short-cuts:</p><ul>
<li>LOOS wide common options should use lower-case single letters</li>
<li>Package-wide common options should use upper-case single letters</li>
<li>Tool specific options should always be long-names, unless the options are frequently used, in which case an upper-case letter should be used.</li>
</ul>
<p>The full set of command-line options is created by the <a class="el" href="classloos_1_1_options_framework_1_1_aggregate_options.html" title="Combines a set of OptionsPackages.">AggregateOptions</a> class. Using <a class="el" href="classloos_1_1_options_framework_1_1_aggregate_options.html#a66be876f10c6395c7c56c7728b19b07b" title="Add a pointer to an OptionsPackage that will be used for options.">AggregateOptions::add()</a>, different <a class="el" href="classloos_1_1_options_framework_1_1_options_package.html" title="Base class for options.">OptionsPackage</a> instances can be combined to build up the full set of command-line options. The order that the <a class="el" href="classloos_1_1_options_framework_1_1_options_package.html" title="Base class for options.">OptionsPackage</a> objects are added is important, as it will determine the order of "positional" options as well as how the options are listed in the help. We recommend the following convention in options order:</p><ul>
<li><a class="el" href="classloos_1_1_options_framework_1_1_basic_options.html" title="Options common to all tools (including –fullhelp)">BasicOptions</a></li>
<li><a class="el" href="classloos_1_1_options_framework_1_1_output_prefix.html" title="Gets a string as prefix for output files (–prefix)">OutputPrefix</a></li>
<li><a class="el" href="classloos_1_1_options_framework_1_1_basic_selection.html" title="Provides a single LOOS selection (–selection)">BasicSelection</a></li>
<li>Model/Trajectory (i.e. <a class="el" href="classloos_1_1_options_framework_1_1_model_with_coords.html" title="Request a model with coordinates.">ModelWithCoords</a>, <a class="el" href="classloos_1_1_options_framework_1_1_basic_trajectory.html" title="Basic trajectory with a –skip option.">BasicTrajectory</a>, <a class="el" href="classloos_1_1_options_framework_1_1_trajectory_with_frame_indices.html" title="Trajectory with either a –range or –skip.">TrajectoryWithFrameIndices</a>)</li>
<li>Tool specific options</li>
<li><a class="el" href="classloos_1_1_options_framework_1_1_required_arguments.html" title="Provides simple way to add command-line arguments (required options)">RequiredArguments</a> (see below)</li>
</ul>
<p>Frequently, a tool requires a number of command-line arguments that are not optional. The <a class="el" href="classloos_1_1_options_framework_1_1_required_arguments.html" title="Provides simple way to add command-line arguments (required options)">RequiredArguments</a> class can be used to incorporate these, rather than handling it within a tool-specific subclass of <a class="el" href="classloos_1_1_options_framework_1_1_options_package.html" title="Base class for options.">OptionsPackage</a>. A <a class="el" href="classloos_1_1_options_framework_1_1_required_arguments.html" title="Provides simple way to add command-line arguments (required options)">RequiredArguments</a> object can build up a command line by passing a string tag and description to <a class="el" href="classloos_1_1_options_framework_1_1_required_arguments.html#aa4382e73c1e8614059d1a8a1d1707183" title="Add a required argument given a name (tag) and a description (currently unused)">RequiredArguments::addArgument()</a> in the same order that the arguments would appear on the command line.</p>
<p>Another common command line format is to have an argument that can appear one or more times. This can also be handled by <a class="el" href="classloos_1_1_options_framework_1_1_required_arguments.html" title="Provides simple way to add command-line arguments (required options)">RequiredArguments</a> by using the <a class="el" href="classloos_1_1_options_framework_1_1_required_arguments.html#a93aa057bf143088859a5ec5c9382c9a4" title="Add a required argument that can be an arbitrary number of items.">RequiredArguments::addVariableArguments()</a> method. If this feature is used, the specified argument will appear <em>after</em> all other required arguments. Since the final argument can appear one or more times, it will consume all remaining command-line arguments. This means that if you use <a class="el" href="classloos_1_1_options_framework_1_1_required_arguments.html" title="Provides simple way to add command-line arguments (required options)">RequiredArguments</a>, it should be the <em>last</em> <a class="el" href="classloos_1_1_options_framework_1_1_options_package.html" title="Base class for options.">OptionsPackage</a> included in the <a class="el" href="classloos_1_1_options_framework_1_1_aggregate_options.html" title="Combines a set of OptionsPackages.">AggregateOptions</a> object.</p>
<p>Which <a class="el" href="classloos_1_1_options_framework_1_1_options_package.html" title="Base class for options.">OptionsPackage</a> subclasses to use in a tool depends on what the tool needs. All tools, however, should include <a class="el" href="classloos_1_1_options_framework_1_1_basic_options.html" title="Options common to all tools (including –fullhelp)">BasicOptions</a> to provide a help message and optional full-help message. While verbosity is defined in <a class="el" href="classloos_1_1_options_framework_1_1_basic_options.html" title="Options common to all tools (including –fullhelp)">BasicOptions</a>, tools do not need to support it. If a tool needs an output prefix, then include <a class="el" href="classloos_1_1_options_framework_1_1_output_prefix.html" title="Gets a string as prefix for output files (–prefix)">OutputPrefix</a>. Similarly, if a tool needs a single selection to determine which atoms to operate on, include a <a class="el" href="classloos_1_1_options_framework_1_1_basic_selection.html" title="Provides a single LOOS selection (–selection)">BasicSelection</a>. If the tool needs multiple selections, then you will need to handle this explicitly with a tool-specific subclass of <a class="el" href="classloos_1_1_options_framework_1_1_options_package.html" title="Base class for options.">OptionsPackage</a> or via <a class="el" href="classloos_1_1_options_framework_1_1_required_arguments.html" title="Provides simple way to add command-line arguments (required options)">RequiredArguments</a>.</p>
<p>For tools that work with a model only, we recommend that you use <a class="el" href="classloos_1_1_options_framework_1_1_model_with_coords.html" title="Request a model with coordinates.">ModelWithCoords</a>. This will guarantee that the generatic <a class="el" href="classloos_1_1_atomic_group.html" title="Class for handling groups of Atoms (pAtoms, actually)">AtomicGroup</a> has coordinates (<a class="el" href="classloos_1_1_math_1_1_matrix.html#a41fd964667734df58317f06f951dd513" title="Unitialized matrix.">e.g</a>. the user specified a <a class="el" href="classloos_1_1_p_s_f.html" title="Class for reading a subset of the PSF format.">PSF</a> file rather than a PDF). Tools that iterate over all frames in a trajectory should use <a class="el" href="classloos_1_1_options_framework_1_1_basic_trajectory.html" title="Basic trajectory with a –skip option.">BasicTrajectory</a>. This class does provide a &ndash;skip option that lets the user skip the first n-frames of a trajectory (presumably, the equilibration stage). The trajectory it creates will be "primed" so that the first read will be the n+1'th frame. Finally, tools that can operate on a range of a trajectory, or an arbitrary set of frames, should use <a class="el" href="classloos_1_1_options_framework_1_1_trajectory_with_frame_indices.html" title="Trajectory with either a –range or –skip.">TrajectoryWithFrameIndices</a>. The <a class="el" href="classloos_1_1_options_framework_1_1_trajectory_with_frame_indices.html#adb96247032e3ef3a23d1268aa9cd6277" title="Returns the list of frames the user requested.">TrajectoryWithFrameIndices::frameList()</a> method returns a vector of unsigned integers that specify which frames of the trajectory a tool should use. For example: </p><div class="fragment"><div class="line">pTraj traj = <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">trajectory_options</a>-&gt;trajectory;</div>
<div class="line"><a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">vector&lt;uint&gt;</a> indices = <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">trajectory_options</a>-&gt;frameList();</div>
<div class="line"><span class="keywordflow">for</span> (vector&lt;uint&gt;::iterator i = indices.begin(); i != indices.end(); ++i)</div>
<div class="line">   <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">processTrajectoryFrame</a>(traj-&gt;readFrame(*i));</div>
</div><!-- fragment --><p><b>Writing a ToolOption class</b></p>
<p>The common idiom to add tool-specific options <em>not</em> covered by the existing objects is to subclass <code><a class="el" href="classloos_1_1_options_framework_1_1_options_package.html" title="Base class for options.">OptionsPackage</a></code>. The virtual memberfunctions (<a class="el" href="classloos_1_1_math_1_1_matrix.html#a41fd964667734df58317f06f951dd513" title="Unitialized matrix.">e.g</a>. <code>addGeneric()</code>, <code>addHidden()</code>, etc) mimic the steps you would normally take to use <code>boost::program_options</code>. It is only necessary to override the functions required specifically for the tool.</p>
<p>As a trivial example, here is a class that will add a bool option to the command line,</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespaceloos_1_1_options_framework.html">opts</a> = <a class="code hl_namespace" href="namespaceloos_1_1_options_framework.html">loos::OptionsFramework</a>;</div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">po</a> = loos::OptionsFramework::po;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_tool_options.html">ToolOptions</a> : <span class="keyword">public</span> <a class="code hl_class" href="classloos_1_1_options_framework_1_1_options_package.html">opts::OptionsPackage</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> addGeneric(<a class="code hl_function" href="classloos_1_1_math_1_1_matrix.html#a41fd964667734df58317f06f951dd513">po::options_description</a>&amp; <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">o</a>) {</div>
<div class="line">     <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">o</a>.add_options()</div>
<div class="line">        (<span class="stringliteral">&quot;flag&quot;</span>, <a class="code hl_function" href="classloos_1_1_math_1_1_matrix.html#a41fd964667734df58317f06f951dd513">po::value&lt;bool&gt;</a>(&amp;<a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">flag</a>)-&gt;default_value(<span class="keyword">false</span>), <span class="stringliteral">&quot;Set a flag&quot;</span>);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// print() included for completeness.  It&#39;s not necessary, but good form to</span></div>
<div class="line">  <span class="comment">// include...</span></div>
<div class="line">  <span class="keywordtype">string</span> print()<span class="keyword"> const </span>{</div>
<div class="line">     std::ostringstream oss;</div>
<div class="line"> </div>
<div class="line">     oss &lt;&lt; boost::format(<span class="stringliteral">&quot;flag=%d&quot;</span>) % <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">flag</a>;</div>
<div class="line">     <span class="keywordflow">return</span>(oss.str());</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">bool</span> flag;</div>
<div class="line">};</div>
<div class="ttc" id="aclass_tool_options_html"><div class="ttname"><a href="class_tool_options.html">ToolOptions</a></div><div class="ttdef"><b>Definition</b> esp_mesh.cpp:139</div></div>
<div class="ttc" id="aclassloos_1_1_math_1_1_matrix_html_a41fd964667734df58317f06f951dd513"><div class="ttname"><a href="classloos_1_1_math_1_1_matrix.html#a41fd964667734df58317f06f951dd513">loos::Math::Matrix::Matrix</a></div><div class="ttdeci">Matrix()</div><div class="ttdoc">Unitialized matrix.</div><div class="ttdef"><b>Definition</b> MatrixImpl.hpp:154</div></div>
<div class="ttc" id="aclassloos_1_1_options_framework_1_1_options_package_html"><div class="ttname"><a href="classloos_1_1_options_framework_1_1_options_package.html">loos::OptionsFramework::OptionsPackage</a></div><div class="ttdoc">Base class for options.</div><div class="ttdef"><b>Definition</b> OptionsFramework.hpp:256</div></div>
<div class="ttc" id="anamespaceloos_1_1_options_framework_html"><div class="ttname"><a href="namespaceloos_1_1_options_framework.html">loos::OptionsFramework</a></div><div class="ttdoc">Namespace for encapsulating options processing.</div><div class="ttdef"><b>Definition</b> ConvergenceOptions.hpp:13</div></div>
</div><!-- fragment --><p>This class can then be used as follows, </p><div class="fragment"><div class="line"><a class="code hl_class" href="classloos_1_1_options_framework_1_1_basic_options.html">BasicOptions</a>* <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">bopts</a> = <span class="keyword">new</span> <a class="code hl_class" href="classloos_1_1_options_framework_1_1_basic_options.html">BasicOptions</a>;</div>
<div class="line"><a class="code hl_class" href="classloos_1_1_options_framework_1_1_model_with_coords.html">ModelWithCoords</a>* <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">mopts</a> = <span class="keyword">new</span> <a class="code hl_class" href="classloos_1_1_options_framework_1_1_model_with_coords.html">ModelWithCoords</a>;</div>
<div class="line"><a class="code hl_class" href="class_tool_options.html">ToolOptions</a>* <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">topts</a> = <span class="keyword">new</span> <a class="code hl_class" href="class_tool_options.html">ToolOptions</a>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="classloos_1_1_options_framework_1_1_aggregate_options.html">AggregateOptions</a> options;</div>
<div class="line">options.<a class="code hl_function" href="classloos_1_1_options_framework_1_1_aggregate_options.html#a66be876f10c6395c7c56c7728b19b07b">add</a>(<a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">bopts</a>).<a class="code hl_function" href="classloos_1_1_options_framework_1_1_aggregate_options.html#a66be876f10c6395c7c56c7728b19b07b">add</a>(<a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">mopts</a>).<a class="code hl_function" href="classloos_1_1_options_framework_1_1_aggregate_options.html#a66be876f10c6395c7c56c7728b19b07b">add</a>(<a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">topts</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (!options.parse(argc, argv))</div>
<div class="line">   <a class="code hl_class" href="classloos_1_1_math_1_1_matrix.html">exit</a>(-1);</div>
</div><!-- fragment --><p>In more complex cases, <code>check()</code> can be used to validate the command-line and <code>postConditions()</code> can be used to implement any necessary post-processing of command-line options but still within the context of the parser. This means that an error will result in a help message being printed. For example, if a file is required for input, the <code>ifstream</code> can be opened here. If it fails, then <code>postConditions()</code> will report the error and a help message will be printed out.</p>
<hr  />
<p>Notes:</p><ul>
<li>Model and <a class="el" href="classloos_1_1_trajectory.html" title="Base-class for polymorphic trajectories.">Trajectory</a> options classes will create the appropriate model and trajectory objects which can be copied out of the respective options object for use in a tool.</li>
<li>Pointers to <a class="el" href="classloos_1_1_options_framework_1_1_options_package.html" title="Base class for options.">OptionsPackage</a> subclasses are used within the <a class="el" href="namespaceloos_1_1_options_framework.html" title="Namespace for encapsulating options processing.">OptionsFramework</a>. Unlike most of LOOS, these are <em>not</em> shared pointers so the tool is responsible for managing them. However, we anticipate that most will only use a small amount of memory and will need to exist for the life of a tool anyway, so deletion of the objects should not be a problem.</li>
<li>OptionsPackages cannot be combined multiple times, <a class="el" href="classloos_1_1_math_1_1_matrix.html#a41fd964667734df58317f06f951dd513" title="Unitialized matrix.">e.g</a>. using two <a class="el" href="classloos_1_1_options_framework_1_1_basic_trajectory.html" title="Basic trajectory with a –skip option.">BasicTrajectory</a> objects because the tool needs to read from two different trajectories. We anticipate these cases as being infrequent, and as such, there is no direct support for it in OptionsPackages. Use a tool-specific <a class="el" href="classloos_1_1_options_framework_1_1_options_package.html" title="Base class for options.">OptionsPackage</a> that handles the required args (matching as closely as possible the existing <a class="el" href="classloos_1_1_options_framework_1_1_options_package.html" title="Base class for options.">OptionsPackage</a> options). </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
